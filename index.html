<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
  <title>MenuMatch Pro ‚Äì Smart Restaurant AI</title>
  <!-- Bootstrap 5 CSS + Icons + Fonts -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <!-- Font Awesome 6 (free) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <!-- Google Font: Inter modern sans -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,300;14..32,400;14..32,500;14..32,600;14..32,700;14..32,800&display=swap" rel="stylesheet">
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <style>
    /* ----- GLOBAL DESIGN SYSTEM ----- */
    :root {
      --primary: #ff6b35;
      --primary-dark: #e54b1b;
      --accent: #ffd166;
      --success: #06d6a0;
      --dark-bg-start: #1a1e24;
      --dark-bg-end: #0c0f12;
      --glass-dark: rgba(25, 30, 36, 0.75);
      --glass-border: rgba(255, 255, 255, 0.08);
      --card-shadow: 0 15px 35px rgba(0,0,0,0.5);
      --text-light: #f2f4f6;
      --text-muted: #b0b7c0;
      --chart-grid: rgba(255,255,255,0.1);
    }

    .light-theme {
      --dark-bg-start: #f9fbfd;
      --dark-bg-end: #eef2f5;
      --glass-dark: rgba(255, 255, 255, 0.7);
      --glass-border: rgba(0, 0, 0, 0.08);
      --card-shadow: 0 15px 35px rgba(0,0,0,0.05);
      --text-light: #1e262c;
      --text-muted: #4d5966;
      --chart-grid: rgba(0,0,0,0.07);
    }

    * {
      font-family: 'Inter', sans-serif;
      transition: background 0.25s ease, border-color 0.2s;
    }

    body {
      background: radial-gradient(circle at 20% 30%, var(--dark-bg-start), var(--dark-bg-end));
      color: var(--text-light);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* ----- glassmorphism base ----- */
    .glass-card {
      background: var(--glass-dark);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid var(--glass-border);
      border-radius: 28px;
      box-shadow: var(--card-shadow);
      padding: 1.8rem;
      transition: transform 0.2s ease, box-shadow 0.2s;
    }

    .glass-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 25px 45px rgba(0,0,0,0.6);
    }

    /* ----- sidebar & nav ----- */
    .sidebar-nav {
      position: sticky;
      top: 100px;
      background: transparent;
    }
    .nav-link-custom {
      color: var(--text-muted);
      border-radius: 16px;
      padding: 12px 18px;
      margin-bottom: 6px;
      font-weight: 500;
      background: rgba(255,255,255,0.02);
      transition: all 0.2s;
    }
    .nav-link-custom i {
      width: 26px;
      color: var(--primary);
    }
    .nav-link-custom:hover, .nav-link-custom.active {
      background: var(--primary);
      color: white;
    }
    .nav-link-custom:hover i {
      color: white;
    }

    /* ----- HERO animated gradient ----- */
    .hero-gradient {
      background: linear-gradient(145deg, rgba(255,107,53,0.15) 0%, rgba(255,209,102,0.25) 100%);
      border-radius: 32px;
      animation: gradientShift 8s infinite alternate;
      border: 1px solid rgba(255,107,53,0.3);
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }

    /* ----- buttons ----- */
    .btn-primary {
      background: var(--primary);
      border: none;
      border-radius: 40px;
      padding: 12px 32px;
      font-weight: 600;
      box-shadow: 0 8px 18px rgba(255,107,53,0.3);
      transition: all 0.2s;
    }
    .btn-primary:hover {
      background: var(--primary-dark);
      transform: scale(1.05);
      box-shadow: 0 12px 24px rgba(255,107,53,0.5);
    }

    .btn-outline-accent {
      border: 1px solid var(--accent);
      color: var(--accent);
      border-radius: 40px;
      padding: 10px 24px;
    }
    .btn-outline-accent:hover {
      background: var(--accent);
      color: #1a1e24;
    }

    /* ----- chat custom ----- */
    .chat-window {
      height: 260px;
      overflow-y: auto;
      background: rgba(0,0,0,0.2);
      border-radius: 20px;
      padding: 1rem;
    }
    .chat-message {
      border-radius: 20px;
      padding: 12px 18px;
      margin-bottom: 12px;
      max-width: 80%;
    }
    .user-message {
      background: var(--primary);
      color: white;
      margin-left: auto;
      border-bottom-right-radius: 4px;
    }
    .ai-message {
      background: rgba(255,209,102,0.2);
      border: 1px solid rgba(255,209,102,0.4);
      backdrop-filter: blur(4px);
      color: var(--text-light);
      border-bottom-left-radius: 4px;
    }
    .typing-indicator {
      display: flex;
      gap: 5px;
      padding: 12px 18px;
      background: rgba(255,209,102,0.1);
      border-radius: 30px;
      width: fit-content;
    }
    .typing-indicator span {
      width: 8px;
      height: 8px;
      background: var(--accent);
      border-radius: 50%;
      animation: bounce 1.4s infinite;
    }
    @keyframes bounce {
      0%,60%,100% { transform: translateY(0); }
      30% { transform: translateY(-8px); }
    }

    /* ----- upload zone ----- */
    .drag-area {
      border: 2px dashed var(--primary);
      background: rgba(255,107,53,0.05);
      border-radius: 28px;
      padding: 2.2rem;
      text-align: center;
      transition: 0.15s;
    }
    .drag-area.active {
      background: rgba(255,107,53,0.15);
      border-color: var(--accent);
    }

    /* ----- inventory cards ----- */
    .stat-card {
      background: rgba(255,107,53,0.1);
      border: 1px solid rgba(255,107,53,0.25);
      border-radius: 24px;
      padding: 1.5rem;
      backdrop-filter: blur(8px);
    }

    /* ----- charts containers ----- */
    .chart-container {
      position: relative;
      height: 200px;
      width: 100%;
    }

    /* ----- recommendation card ----- */
    .rec-card {
      background: linear-gradient(145deg, var(--primary), #ff8c5a);
      color: white;
      border-radius: 24px;
    }

    /* ----- smooth scroll ----- */
    html {
      scroll-behavior: smooth;
    }

    /* ----- admin panel toggles ----- */
    .form-switch .form-check-input {
      width: 3em;
      height: 1.5em;
      background-color: rgba(255,255,255,0.2);
      border-color: var(--primary);
    }
    .light-theme .form-switch .form-check-input {
      background-color: #ccc;
    }

    /* responsive */
    @media (max-width: 768px) {
      .glass-card { padding: 1.25rem; }
    }
  </style>
</head>
<body class="dark-theme">
  <!-- ========== TOP NAVBAR (DARK, STICKY) ========== -->
  <nav class="navbar navbar-dark navbar-expand-md py-3 sticky-top" style="background: rgba(10, 12, 16, 0.9); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(255,107,53,0.3);">
    <div class="container-fluid px-4">
      <a class="navbar-brand fw-bold fs-3" href="#">
        <i class="fas fa-utensils me-2" style="color: var(--primary);"></i>MenuMatch<span style="color: var(--primary);">Pro</span>
      </a>
      <!-- mobile offcanvas trigger -->
      <button class="navbar-toggler border-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu" aria-controls="offcanvasMenu">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>

  <!-- ========== MOBILE OFF-CANVAS SIDEBAR ========== -->
  <div class="offcanvas offcanvas-start bg-dark text-white" tabindex="-1" id="offcanvasMenu" style="background: #0e1115 !important;">
    <div class="offcanvas-header border-bottom border-secondary">
      <h5 class="offcanvas-title fw-bold"><i class="fas fa-robot me-2" style="color: var(--primary);"></i>MenuMatch Pro</h5>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
    </div>
    <div class="offcanvas-body p-3">
      <nav class="nav flex-column">
        <a class="nav-link-custom" href="#hero" data-bs-dismiss="offcanvas"><i class="fas fa-home me-2"></i>Home</a>
        <a class="nav-link-custom" href="#ai-chat" data-bs-dismiss="offcanvas"><i class="fas fa-comment-dots me-2"></i>AI Chat</a>
        <a class="nav-link-custom" href="#upload-section" data-bs-dismiss="offcanvas"><i class="fas fa-cloud-upload-alt me-2"></i>Upload Menu</a>
        <a class="nav-link-custom" href="#inventory" data-bs-dismiss="offcanvas"><i class="fas fa-boxes me-2"></i>Inventory</a>
        <a class="nav-link-custom" href="#recommendation" data-bs-dismiss="offcanvas"><i class="fas fa-thumbs-up me-2"></i>Recommendations</a>
        <a class="nav-link-custom" href="#admin" data-bs-dismiss="offcanvas"><i class="fas fa-cog me-2"></i>Admin Panel</a>
      </nav>
    </div>
  </div>

  <!-- ========== MAIN LAYOUT: DESKTOP SIDEBAR + CONTENT ========== -->
  <div class="container-fluid mt-4 px-lg-5">
    <div class="row g-4">
      <!-- DESKTOP SIDEBAR (sticky, hidden on mobile) -->
      <div class="col-md-3 col-xl-2 d-none d-md-block">
        <div class="sidebar-nav">
          <div class="glass-card p-3" style="background: rgba(20, 25, 30, 0.6); backdrop-filter: blur(16px);">
            <nav class="nav flex-column">
              <a class="nav-link-custom" href="#hero"><i class="fas fa-home me-2"></i>Home</a>
              <a class="nav-link-custom" href="#ai-chat"><i class="fas fa-comment-dots me-2"></i>AI Chat</a>
              <a class="nav-link-custom" href="#upload-section"><i class="fas fa-cloud-upload-alt me-2"></i>Upload Menu</a>
              <a class="nav-link-custom" href="#inventory"><i class="fas fa-boxes me-2"></i>Inventory</a>
              <a class="nav-link-custom" href="#recommendation"><i class="fas fa-thumbs-up me-2"></i>Recommendations</a>
              <a class="nav-link-custom" href="#admin"><i class="fas fa-cog me-2"></i>Admin Panel</a>
            </nav>
          </div>
        </div>
      </div>

      <!-- ========== MAIN CONTENT (ALL SECTIONS) ========== -->
      <div class="col-md-9 col-xl-10">

        <!-- ***** HERO SECTION ***** -->
        <section id="hero" class="mb-5">
          <div class="hero-gradient glass-card p-5 d-flex flex-column flex-lg-row align-items-center justify-content-between">
            <div class="text-lg-start text-center mb-4 mb-lg-0">
              <h1 class="display-3 fw-bold" style="letter-spacing: -1px;">AI That Understands <span style="color: var(--primary);">Your Kitchen</span></h1>
              <p class="lead fs-4 mt-3" style="color: var(--text-muted);">Reduce waste, boost profits, delight customers ‚Äî intelligent operations for modern restaurants.</p>
              <button class="btn btn-primary btn-lg mt-4"><i class="fas fa-rocket me-2"></i>Start free trial</button>
            </div>
            <div class="ms-lg-5">
              <span style="font-size: 140px; color: rgba(255,107,53,0.2);"><i class="fas fa-robot"></i></span>
            </div>
          </div>
        </section>

        <!-- ***** AI CHAT SECTION ***** -->
        <section id="ai-chat" class="mb-5">
          <div class="glass-card">
            <h2 class="fw-bold mb-4"><i class="fas fa-comment-dots me-2" style="color: var(--primary);"></i>AI Kitchen Assistant</h2>
            <div class="chat-window mb-3" id="chatWindow">
              <div class="chat-message ai-message">üçΩÔ∏è Hello! I'm your MenuMatch AI. Ask me about menu optimization, dish suggestions, or just say hi.</div>
            </div>
            <!-- typing indicator (hidden by default) -->
            <div id="typingIndicator" class="typing-indicator mb-3" style="display: none;">
              <span></span><span></span><span></span>
            </div>
            <div class="input-group">
              <input type="text" id="chatInput" class="form-control form-control-lg bg-dark text-white border-0" style="border-radius: 40px 0 0 40px; background: rgba(0,0,0,0.3) !important;" placeholder="Type your message...">
              <button class="btn btn-primary" id="sendChatBtn" style="border-radius: 0 40px 40px 0; padding: 0 30px;"><i class="fas fa-paper-plane"></i></button>
            </div>
            <small class="text-muted mt-2 d-block">üí° Empty message ‚Üí AI suggests a meal</small>
          </div>
        </section>

        <!-- ***** UPLOAD MENU SECTION ***** -->
        <section id="upload-section" class="mb-5">
          <div class="glass-card">
            <h2 class="fw-bold mb-4"><i class="fas fa-cloud-upload-alt me-2" style="color: var(--primary);"></i>Smart Menu Upload</h2>
            <div id="dragDropArea" class="drag-area mb-4">
              <i class="fas fa-file-pdf fa-3x mb-3" style="color: var(--primary);"></i>
              <i class="fas fa-file-csv fa-3x mb-3 mx-2" style="color: var(--accent);"></i>
              <i class="fas fa-file-image fa-3x mb-3" style="color: var(--success);"></i>
              <h4>Drag & drop or click to upload</h4>
              <p class="text-muted">Supports PDF, CSV, JPG, PNG (max 10MB)</p>
              <input type="file" id="fileInput" hidden accept=".pdf,.csv,.jpg,.jpeg,.png">
              <button class="btn btn-outline-accent mt-2" id="browseBtn">Browse files</button>
            </div>
            <div id="uploadPreview" class="d-none">
              <div class="bg-dark p-3 rounded-4">
                <p class="mb-1 fw-bold"><i class="fas fa-check-circle text-success me-2"></i>File uploaded: <span id="fileName"></span></p>
                <p id="aiAnalysis" class="mb-0 text-info"><i class="fas fa-microchip"></i> AI analysis: </p>
              </div>
            </div>
          </div>
        </section>

        <!-- ***** INVENTORY DASHBOARD ***** -->
        <section id="inventory" class="mb-5">
          <div class="glass-card">
            <h2 class="fw-bold mb-4"><i class="fas fa-chart-line me-2" style="color: var(--primary);"></i>Inventory Pulse</h2>
            <!-- 3 summary cards -->
            <div class="row g-4 mb-4">
              <div class="col-md-4">
                <div class="stat-card d-flex align-items-center">
                  <i class="fas fa-boxes fa-2x me-3" style="color: var(--success);"></i>
                  <div><h5 class="fw-bold">In Stock</h5><span class="fs-3" id="inStockVal">45</span> <span class="text-muted">items</span></div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="stat-card d-flex align-items-center">
                  <i class="fas fa-exclamation-triangle fa-2x me-3" style="color: var(--accent);"></i>
                  <div><h5 class="fw-bold">Low Stock</h5><span class="fs-3" id="lowStockVal">12</span> <span class="text-muted">items</span></div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="stat-card d-flex align-items-center">
                  <i class="fas fa-times-circle fa-2x me-3" style="color: #ef476f;"></i>
                  <div><h5 class="fw-bold">Out of Stock</h5><span class="fs-3" id="outStockVal">8</span> <span class="text-muted">items</span></div>
                </div>
              </div>
            </div>
            <!-- charts row -->
            <div class="row">
              <div class="col-lg-6 mb-4">
                <div class="chart-container">
                  <canvas id="barChart"></canvas>
                </div>
              </div>
              <div class="col-lg-6 mb-4">
                <div class="chart-container">
                  <canvas id="doughnutChart"></canvas>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ***** CUSTOMER RECOMMENDATION SECTION ***** -->
        <section id="recommendation" class="mb-5">
          <div class="glass-card">
            <h2 class="fw-bold mb-4"><i class="fas fa-thumbs-up me-2" style="color: var(--primary);"></i>Personalized Dish Generator</h2>
            <div class="row g-4 align-items-end">
              <div class="col-md-3">
                <label class="fw-semibold">Budget</label>
                <select id="budgetSelect" class="form-select bg-dark text-white border-0 mt-1" style="background: rgba(0,0,0,0.3);">
                  <option selected>$ ‚Äì Low</option>
                  <option>$$ ‚Äì Medium</option>
                  <option>$$$ ‚Äì Premium</option>
                </select>
              </div>
              <div class="col-md-3">
                <label class="fw-semibold">Mood / Occasion</label>
                <select id="moodSelect" class="form-select bg-dark text-white border-0 mt-1">
                  <option>Casual</option>
                  <option selected>Romantic</option>
                  <option>Family</option>
                  <option>Quick bite</option>
                </select>
              </div>
              <div class="col-md-3">
                <label class="fw-semibold">Dietary</label>
                <select id="dietSelect" class="form-select bg-dark text-white border-0 mt-1">
                  <option>None</option>
                  <option>Vegetarian</option>
                  <option>Vegan</option>
                  <option>Gluten-free</option>
                  <option>Keto</option>
                </select>
              </div>
              <div class="col-md-3">
                <button id="generateRecBtn" class="btn btn-primary w-100 py-2"><i class="fas fa-magic me-2"></i>Generate</button>
              </div>
            </div>
            <!-- Recommendation result card -->
            <div id="recResult" class="mt-4 p-3 rec-card d-none">
              <p class="fs-5 mb-1 fw-bold"><i class="fas fa-utensil-spoon me-2"></i>AI Recommendation:</p>
              <p id="recText" class="fs-3 fw-bold mb-0"></p>
              <span id="recMeta" class="text-white-50"></span>
            </div>
          </div>
        </section>

        <!-- ***** ADMIN PANEL ***** -->
        <section id="admin" class="mb-5">
          <div class="glass-card">
            <h2 class="fw-bold mb-4"><i class="fas fa-cog me-2" style="color: var(--primary);"></i>Admin Intelligence</h2>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="fw-semibold">API Key (simulated)</label>
                <input type="password" class="form-control bg-dark text-white border-0 mt-1" placeholder="sk-‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" value="sk-mock12345" disabled>
              </div>
              <div class="col-md-6 mb-3">
                <label class="fw-semibold">Model selector</label>
                <select class="form-select bg-dark text-white border-0 mt-1">
                  <option>MenuMatch Chef-7B (recommended)</option>
                  <option>MenuMatch Sommelier</option>
                  <option>Legacy model 3.5</option>
                </select>
              </div>
              <div class="col-md-6 mb-3">
                <label class="fw-semibold d-block">Theme mode</label>
                <div class="form-check form-switch mt-2">
                  <input class="form-check-input" type="checkbox" id="themeSwitch" style="background-color: var(--primary);">
                  <label class="form-check-label" for="themeSwitch">Dark / Light</label>
                </div>
              </div>
              <div class="col-md-6 mb-3 d-flex align-items-end">
                <button class="btn btn-outline-accent w-100" id="fakeSaveBtn"><i class="fas fa-save me-2"></i>Save settings (UI only)</button>
              </div>
            </div>
          </div>
        </section>
      </div> <!-- end main content col -->
    </div> <!-- end row -->
  </div> <!-- end container-fluid -->

  <!-- ========== Bootstrap JS bundle ========== -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- ========== CUSTOM APP SIMULATIONS ========== -->
  <script>
    (function() {
      "use strict";

      // ---------- GLOBAL THEME TOGGLE (Admin panel) ----------
      const themeSwitch = document.getElementById('themeSwitch');
      themeSwitch.addEventListener('change', function(e) {
        document.body.classList.toggle('light-theme');
        // optional: update chart colors? we skip for simplicity
      });

      // ---------- AI CHAT SIMULATION ----------
      const chatWindow = document.getElementById('chatWindow');
      const chatInput = document.getElementById('chatInput');
      const sendBtn = document.getElementById('sendChatBtn');
      const typingIndicator = document.getElementById('typingIndicator');

      function addMessage(text, isUser = false) {
        const msgDiv = document.createElement('div');
        msgDiv.classList.add('chat-message', isUser ? 'user-message' : 'ai-message');
        msgDiv.innerText = text;
        chatWindow.appendChild(msgDiv);
        chatWindow.scrollTop = chatWindow.scrollHeight;
      }

      function simulateAIReply(userMsg) {
        typingIndicator.style.display = 'flex';
        let reply = '';
        if (!userMsg || userMsg.trim() === '') {
          reply = 'üçï Auto‚Äësuggest: How about a Margherita pizza with fresh basil? It‚Äôs a top seller!';
        } else {
          const lower = userMsg.toLowerCase();
          if (lower.includes('menu') || lower.includes('dish')) reply = 'I recommend adding a spicy vegan bowl ‚Äì trending in your area.';
          else if (lower.includes('waste')) reply = 'Your inventory shows 8 soon‚Äëexpiring items. Want a discount suggestion?';
          else reply = `Thanks for your message. I'll analyze "${userMsg}" for your kitchen.`;
        }
        setTimeout(() => {
          typingIndicator.style.display = 'none';
          addMessage(reply, false);
        }, 1400);
      }

      sendBtn.addEventListener('click', function() {
        const msg = chatInput.value;
        if (msg.trim() !== '') addMessage(msg, true);
        simulateAIReply(msg);
        chatInput.value = '';
      });
      chatInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') sendBtn.click();
      });

      // ---------- UPLOAD SIMULATION (drag & drop + fake preview) ----------
      const dragArea = document.getElementById('dragDropArea');
      const fileInput = document.getElementById('fileInput');
      const browseBtn = document.getElementById('browseBtn');
      const uploadPreview = document.getElementById('uploadPreview');
      const fileNameSpan = document.getElementById('fileName');
      const aiAnalysis = document.getElementById('aiAnalysis');

      ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        dragArea.addEventListener(eventName, preventDefaults, false);
      });
      function preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
      }
      ['dragenter', 'dragover'].forEach(event => {
        dragArea.addEventListener(event, () => dragArea.classList.add('active'));
      });
      ['dragleave', 'drop'].forEach(event => {
        dragArea.addEventListener(event, () => dragArea.classList.remove('active'));
      });

      dragArea.addEventListener('drop', (e) => {
        const dt = e.dataTransfer;
        const file = dt.files[0];
        handleFile(file);
      });

      browseBtn.addEventListener('click', () => fileInput.click());
      fileInput.addEventListener('change', (e) => handleFile(e.target.files[0]));

      function handleFile(file) {
        if (!file) return;
        fileNameSpan.innerText = file.name;
        uploadPreview.classList.remove('d-none');
        const fakeAnalyses = [
          'Italian cuisine, high profitability, recommend adding gluten‚Äëfree pasta.',
          'Fusion menu detected ‚Äì top margin on spicy tuna tartare.',
          'Plant‚Äëforward menu, suggests boosting avocado supplier.',
          'Family style ‚Äì optimize portion sizes to reduce waste.'
        ];
        const randomIdx = Math.floor(Math.random() * fakeAnalyses.length);
        setTimeout(() => {
          aiAnalysis.innerHTML = `<i class="fas fa-microchip"></i> AI analysis: ${fakeAnalyses[randomIdx]}`;
        }, 600);
      }

      // ---------- CHARTS.JS INVENTORY ----------
      window.addEventListener('load', function() {
        // bar chart: stock by category
        const barCtx = document.getElementById('barChart').getContext('2d');
        new Chart(barCtx, {
          type: 'bar',
          data: {
            labels: ['Produce', 'Meat', 'Dairy', 'Pantry', 'Beverage'],
            datasets: [{
              label: 'Units in stock',
              data: [18, 12, 9, 15, 7],
              backgroundColor: ['#ff6b35', '#ff8c5a', '#ffd166', '#06d6a0', '#ff6b35'],
              borderRadius: 8,
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: { y: { grid: { color: 'rgba(255,255,255,0.05)' }, beginAtZero: true } }
          }
        });

        // doughnut: stock distribution %
        const doughnutCtx = document.getElementById('doughnutChart').getContext('2d');
        new Chart(doughnutCtx, {
          type: 'doughnut',
          data: {
            labels: ['In Stock', 'Low Stock', 'Out of Stock'],
            datasets: [{
              data: [45, 12, 8],
              backgroundColor: ['#06d6a0', '#ffd166', '#ef476f'],
              borderWidth: 0,
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { labels: { color: '#f2f4f6' } } },
            cutout: '70%',
          }
        });
      });

      // ---------- CUSTOMER RECOMMENDATION GENERATOR ----------
      const generateBtn = document.getElementById('generateRecBtn');
      const recResult = document.getElementById('recResult');
      const recText = document.getElementById('recText');
      const recMeta = document.getElementById('recMeta');

      generateBtn.addEventListener('click', function() {
        const budget = document.getElementById('budgetSelect').value;
        const mood = document.getElementById('moodSelect').value;
        const diet = document.getElementById('dietSelect').value;

        let dish = '';
        let desc = '';
        if (diet.includes('Vegan')) dish = 'üå± Grilled Artichoke Steak';
        else if (diet.includes('Vegetarian')) dish = 'üßÄ Wild Mushroom Risotto';
        else if (diet.includes('Gluten')) dish = 'üçö Citrus Quinoa Bowl';
        else if (diet.includes('Keto')) dish = 'ü•ë Salmon with Avocado Salsa';
        else dish = 'ü•© Prime Beef Tenderloin';

        if (mood === 'Romantic') dish = 'üïØÔ∏è ' + dish + ' with Truffle Sauce';
        else if (mood === 'Family') dish = 'üë®‚Äçüë©‚Äçüëß Large Paella Valenciana';

        if (budget.includes('$$$')) desc = 'Premium ingredients, chef‚Äôs special';
        else if (budget.includes('$$')) desc = 'Balanced cost & flavor';
        else desc = 'Budget‚Äëfriendly, high value';

        recText.innerText = dish;
        recMeta.innerText = `${desc} ‚Ä¢ ${diet} ‚Ä¢ ${mood} vibe`;
        recResult.classList.remove('d-none');
      });

      // ---------- SIDEBAR ACTIVE STATE (simple) ----------
      const sections = document.querySelectorAll('section');
      const navLinks = document.querySelectorAll('.nav-link-custom');
      window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
          const sectionTop = section.offsetTop - 150;
          if (pageYOffset >= sectionTop) {
            current = section.getAttribute('id');
          }
        });
        navLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#${current}`) {
            link.classList.add('active');
          }
        });
      });

      // ---------- FAKE ADMIN SAVE BUTTON FEEDBACK ----------
      document.getElementById('fakeSaveBtn').addEventListener('click', function(){
        alert('Settings saved (demo) ‚Äî no actual API call.');
      });

    })();
  </script>

  <!-- subtle extra glow / fixed backdrop -->
  <style>
    /* additional refinements */
    .form-control:focus, .form-select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 0.25rem rgba(255,107,53,0.25);
    }
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: rgba(0,0,0,0.2); }
    ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 10px; }
    .navbar-brand { letter-spacing: -0.5px; }
  </style>
</body>
</html>
